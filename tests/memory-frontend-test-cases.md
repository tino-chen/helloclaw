# HelloClaw 记忆系统前端测试用例

## 测试前准备

1. 确保后端运行：`cd backend && uv run uvicorn src.main:app --reload --port 8000`
2. 确保前端运行：`cd frontend && pnpm dev`
3. 打开 http://localhost:5173

---

## 测试用例 1：偏好类记忆捕获

**目标**：测试 Agent 是否自动识别并存储用户偏好

**对话内容**：
```
我喜欢简洁的回复风格，不要太啰嗦
```

**验证方式**：
1. 打开「记忆」页面
2. 查看今日记忆文件
3. 应该看到类似 `[preference] 用户喜欢简洁的回复风格，不要太啰嗦`

---

## 测试用例 2：决策类记忆捕获

**目标**：测试决策类记忆识别

**对话内容**：
```
我决定了，就用 Vue 3 作为前端框架
```

**验证方式**：
1. 刷新记忆页面
2. 应该看到 `[decision] 决定用 Vue 3 作为前端框架`

---

## 测试用例 3：实体类记忆捕获

**目标**：测试实体信息（邮箱、电话等）识别

**对话内容**：
```
我的邮箱是 hello@example.com，记一下
```

**验证方式**：
1. 查看记忆
2. 应该看到 `[entity] 我的邮箱是 hello@example.com`

---

## 测试用例 4：事实类记忆捕获

**目标**：测试事实类记忆识别

**对话内容**：
```
记住，项目代码在 /Users/tino/projects 目录下
```

**验证方式**：
1. 查看记忆
2. 应该看到 `[fact] 项目代码在 /Users/tino/projects 目录下`

---

## 测试用例 5：去重测试

**目标**：测试重复信息不会被重复存储

**对话内容**：
```
我喜欢简洁的回复风格
```

**验证方式**：
1. 查看记忆
2. 不应该出现两条相似的偏好记录
3. 关键词重叠 > 70% 会被过滤

---

## 测试用例 6：记忆回忆

**目标**：测试 Agent 是否能读取之前的记忆

**对话内容**（新开会话后）：
```
你还记得我喜欢什么样的回复风格吗？
```

**预期结果**：
- Agent 应该回答"简洁的回复风格"
- 说明 Agent 读取了之前的记忆

---

## 测试用例 7：跨天记忆

**目标**：测试 Agent 读取昨天的记忆（模拟）

**操作**：
1. 手动创建 `~/.helloclaw/workspace/memory/2026-02-26.md`
2. 内容写入：`- [preference] 用户喜欢使用中文交流`
3. 对话中问：`你知道我有什么语言偏好吗？`

**预期结果**：
- Agent 应该提到"喜欢使用中文交流"

---

## 测试用例 8：分类过滤

**目标**：测试前端记忆页面分类过滤功能

**操作**：
1. 打开「记忆」页面
2. 点击分类过滤下拉框
3. 选择「偏好」

**预期结果**：
- 只显示包含 `[preference]` 标签的记忆

---

## 测试用例 9：搜索记忆

**目标**：测试记忆搜索功能

**操作**：
1. 在记忆页面搜索框输入关键词，如"Vue"
2. 点击搜索

**预期结果**：
- 显示包含"Vue"的记忆条目
- 显示行号和上下文

---

## 测试用例 10：长期记忆固化

**目标**：测试将重要信息固化到长期记忆

**对话内容**：
```
请把我的 GitHub 账号 tino-chen 记到长期记忆里
```

**验证方式**：
1. 打开配置页面
2. 查看 MEMORY.md
3. 应该包含 GitHub 账号信息

---

## 快速测试脚本

按顺序发送以下消息：

```
1. 我喜欢简洁的回复风格
2. 决定用 TypeScript 写代码
3. 我的电话是 13800138000
4. 记住，我每天早上 9 点上班
5. 我喜欢简洁的回复风格（测试去重）
```

然后去记忆页面查看，应该有 4 条记忆（第 5 条被去重）。

---

## 预期记忆文件格式

```markdown
# 2026-02-27

## 01:45 - 自动捕获

- [preference] 用户喜欢简洁的回复风格

## 01:46 - 自动捕获

- [decision] 决定用 TypeScript 写代码

## 01:47 - 自动捕获

- [entity] 我的电话是 13800138000

## 01:48 - 自动捕获

- [fact] 我每天早上 9 点上班
```
