# HelloClaw 功能详解

## 1. 可定制的 Agent 身份

通过 Markdown 配置文件定义 Agent 的"个性"：

| 文件 | 用途 |
|------|------|
| IDENTITY.md | 身份定义（名字、角色、头像） |
| SOUL.md | 人格模板（性格、边界、风格） |
| USER.md | 用户信息（名字、时区、偏好） |
| AGENTS.md | 工作空间规则（每次会话加载） |

配置修改后无需重启，下次对话自动生效。

## 2. 多层次记忆系统

### 架构

```
┌─────────────────────────────────────────────┐
│              MEMORY.md (长期记忆)            │
│         重要信息固化，永久保存                │
├─────────────────────────────────────────────┤
│         memory/YYYY-MM-DD.md (每日记忆)      │
│         日常对话记录，30天后可清理            │
├─────────────────────────────────────────────┤
│         memory/YYYY-MM-DD-slug.md (会话总结) │
│         会话摘要，90天后可清理               │
└─────────────────────────────────────────────┘
```

### 自动分类

每条记忆自动识别并打上标签：

| 分类 | 标签 | 触发词 |
|------|------|--------|
| 偏好 | `[preference]` | "我喜欢"、"prefer" |
| 决策 | `[decision]` | "决定了"、"选定" |
| 实体 | `[entity]` | 电话、邮箱、地址 |
| 事实 | `[fact]` | "记住"、"事实上" |

### 智能去重

关键词重叠 > 70% 视为重复，不重复存储。

### 记忆工具

- `memory_search` - 搜索记忆
- `memory_add` - 添加记忆
- `memory_get` - 读取记忆
- `memory_list` - 列出文件
- `memory_cleanup` - 清理过期

## 3. 工具系统

### 内置工具

| 工具 | 功能 |
|------|------|
| read | 读取文件 |
| write | 写入文件 |
| edit | 编辑文件 |
| python_calculator | 数学计算 |
| memory_* | 记忆管理 |
| identity_* | 身份更新 |

### 扩展工具（规划中）

- `execute_command` - 命令执行（带安全控制）
- `web_search` - 网络搜索
- `web_fetch` - 网页抓取

## 4. 多渠道支持

### Web UI

- 聊天对话界面
- 配置管理页面
- 记忆查看页面
- 会话管理

### CLI（规划中）

```bash
helloclaw chat          # 交互模式
helloclaw ask "问题"    # 单次查询
helloclaw config        # 配置管理
```

## 5. 子 Agent 系统（规划中）

支持创建子 Agent 处理复杂任务：

- 上下文隔离
- 工具过滤（只读模式）
- 结果回传

## 6. 配置热加载

修改 `~/.helloclaw/config.json` 或 workspace 配置后：
- 下次对话自动生效
- 无需重启服务

## 7. 会话管理

- 多会话支持
- 会话持久化
- 会话总结（切换时自动生成）
- 历史压缩（超出阈值时）
